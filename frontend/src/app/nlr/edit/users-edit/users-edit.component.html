<div
    class="bg-sky-600 dark:bg-purple-900 absolute top-0 left-0 bg-gradient-to-b from-sky-700 dark:from-gray-900 via-sky-500 dark:via-gray-900 to-sky-600 dark:to-purple-800 bottom-0 leading-5 h-full w-full overflow-hidden transition ease-in duration-500">

</div>
<div class="relative min-h-screen sm:flex sm:flex-row justify-center bg-transparent rounded-3xl shadow-xl">
    <p-toast position="bottom-left" />


    <div class="w-auto justify-center self-center z-10 my-20">
        <div class="p-12 bg-white mx-auto rounded-3xl shadow-lg">
            <form class="w-full mx-auto">
                <div class="mb-5 text-center">
                    <h3 class="font-semibold text-2xl text-gray-800">Editar Usuario</h3>    
                </div>
                <div class="space-y-4">

                    <div class="lg:flex lg:flex-row gap-4 md:grid-row md:space-y-4">

                        <div class="basis-1/3 md:mt-4">
                            <div class="flex justify-center items-center relative">
                                <input name="name"
                                    required [ngClass]="{'border-red-500': errores.name}" class="w-full text-sm px-4 py-3 bg-gray-200 border border-gray-200 rounded-lg focus:outline-none focus:border-sky-500 dark:focus:border-purple-400 peer bg-inherit"
                                    type="text" [(ngModel)]="inforProduct.name">
                                <span [ngClass]="{'text-red-500': errores.name}" class="text-sm text-slate-500 text-opacity-80 absolute left-0 top-3 mx-2 px-2 transition duration-200 peer-focus:text-sky-500 dark:peer-focus:text-purple-700 pointer-events-none peer-focus:text-xs peer-focus:-translate-y-5 bg-white peer-valid:text-xs peer-valid:-translate-y-5">
                                    Nombre
                                </span>
                            </div>
                            <p *ngIf="errores.name" class="text-sm ms-1 text-red-500 py-2">{{this.errores.name}}</p>
                        </div>

                        <div class="basis-1/3">
                            <div class="flex justify-center items-center relative">
                                <select [(ngModel)]="inforProduct.rol" [ngClass]="{'border-red-500': errores.rol}" name="rol" id="" class="w-full text-sm px-4 py-3 bg-gray-200 border border-gray-200 rounded-lg focus:outline-none focus:border-sky-500 dark:focus:border-purple-400 peer bg-inherit">
                                    <option selected>Seleccionar rol</option>
                                    <option value="admin">Administrador</option>
                                    <option value="compras">Compras</option>
                                    <option value="ventas">Ventas</option>
                                    <option value="cliente">Cliente</option>
                                </select>
                                <span [ngClass]="{'text-red-500': errores.rol}" class="text-sm text-slate-500 text-opacity-80 absolute left-0 top-3 mx-2 px-2 transition duration-200 peer-focus:text-sky-500 dark:peer-focus:text-purple-700 pointer-events-none peer-focus:text-xs peer-focus:-translate-y-5 bg-white peer-valid:text-xs peer-valid:-translate-y-5">
                                    Rol
                                </span>
                            </div>
                            <p *ngIf="errores.rol" class="text-sm ms-1 text-red-500 py-2">{{this.errores.rol}}</p>
                        </div>

                        <div class="basis-1/3">
                            <div class="flex justify-center items-center relative">
                                
                                <input name="last_name"
                                    required [ngClass]="{'border-red-500': errores.last_name}" class=" w-full text-sm px-4 py-3 bg-gray-200 border border-gray-200 rounded-lg focus:outline-none focus:border-sky-500 dark:focus:border-purple-400 peer bg-inherit"
                                    type="text" [(ngModel)]="inforProduct.last_name">
                                <span [ngClass]="{'text-red-500': errores.last_name}" class="text-sm text-slate-500 text-opacity-80 absolute left-0 top-3 mx-2 px-2 transition duration-200 peer-focus:text-sky-500 dark:peer-focus:text-purple-700 pointer-events-none peer-focus:text-xs peer-focus:-translate-y-5 bg-white peer-valid:text-xs peer-valid:-translate-y-5">
                                    Apellido
                                </span>
                            </div>
                            <p *ngIf="errores.last_name" class="text-sm ms-1 text-red-500 py-2">{{this.errores.last_name}}</p>
                        </div>
                    </div>

                    <div class="flex flex-row gap-4">

                        <div class="basis-1/3">
                            <div class="flex justify-center items-center relative">
                                <input name="email"
                                    required [ngClass]="{'border-red-500': errores.email}" class="w-full text-sm px-4 py-3 bg-gray-200 border border-gray-200 rounded-lg focus:outline-none focus:border-sky-500 dark:focus:border-purple-400 peer bg-inherit"
                                    type="email" [(ngModel)]="inforProduct.email">
                                <span [ngClass]="{'text-red-500': errores.email}" class="text-sm text-slate-500 text-opacity-80 absolute left-0 top-3 mx-2 px-2 transition duration-200 peer-focus:text-sky-500 dark:peer-focus:text-purple-700 pointer-events-none peer-focus:text-xs peer-focus:-translate-y-5 bg-white peer-valid:text-xs peer-valid:-translate-y-5">
                                    Correo Electronico
                                </span>
                            </div>
                            <p *ngIf="errores.email" class="text-sm ms-1 text-red-500 py-2">{{this.errores.email}}</p>
                        </div>

                        <div class="basis-1/3">
                            <div class="flex justify-center items-center relative">
                                <input name="phone"
                                    required [ngClass]="{'border-red-500': errores.phone}" class="w-full text-sm px-4 py-3 bg-gray-200 border border-gray-200 rounded-lg focus:outline-none focus:border-sky-500 dark:focus:border-purple-400 peer bg-inherit"
                                    type="text" [(ngModel)]="inforProduct.phone">
                                <span [ngClass]="{'text-red-500': errores.phone}" class="text-sm text-slate-500 text-opacity-80 absolute left-0 top-3 mx-2 px-2 transition duration-200 peer-focus:text-sky-500 dark:peer-focus:text-purple-700 pointer-events-none peer-focus:text-xs peer-focus:-translate-y-5 bg-white peer-valid:text-xs peer-valid:-translate-y-5">
                                    Telefono
                                </span>
                            </div>
                            <p *ngIf="errores.phone" class="text-sm ms-1 text-red-500 py-2">{{this.errores.phone}}</p>
                        </div>                        

                        <div class="basis-1/3">
                            <div class="flex justify-center items-center relative">
                                
                                <input name="user"
                                    required [ngClass]="{'border-red-500': errores.user}" class=" w-full text-sm px-4 py-3 bg-gray-200 border border-gray-200 rounded-lg focus:outline-none focus:border-sky-500 dark:focus:border-purple-400 peer bg-inherit"
                                    type="text" [(ngModel)]="inforProduct.user">
                                <span [ngClass]="{'text-red-500': errores.user}" class="text-sm text-slate-500 text-opacity-80 absolute left-0 top-3 mx-2 px-2 transition duration-200 peer-focus:text-sky-500 dark:peer-focus:text-purple-700 pointer-events-none peer-focus:text-xs peer-focus:-translate-y-5 bg-white peer-valid:text-xs peer-valid:-translate-y-5">
                                    Usuario
                                </span>
                            </div>
                            <p *ngIf="errores.user" class="text-sm ms-1 text-red-500 py-2">{{this.errores.user}}</p>
                        </div>
                    </div>

                    <div class="col-span-full">
                        <label for="photo" class="block text-sm font-medium leading-6 text-gray-900">Imagen</label>
                        <div class="mt-2 flex items-center gap-x-3">
                            <button (click)="viewModal()" type="button" class="relative flex rounded-full bg-gray-800 text-sm focus:outline-none focus:ring-2 focus:ring-white focus:ring-offset-2 focus:ring-offset-gray-800" id="user-menu-button" aria-expanded="false" aria-haspopup="true">
                                <span class="absolute -inset-1.5"></span>
                                <span class="sr-only">Open user menu</span>
                                
                              <div class="relative inline-flex items-center justify-center w-10 h-10 overflow-hidden bg-gray-100 rounded-full dark:bg-gray-600">
                                <span class="font-medium text-gray-600 dark:text-gray-300">{{personal_perfil}}</span>
                              </div>
                
                            </button>

                            <input type="file" class="w-full block text-xs file:border-gray-200 file:border-opacity-60 file:cursor-pointer file:hover:bg-gray-200 file:p-2 file:rounded-lg file:shadow-lg pl-2" accept=".png, .jpeg, .jpg">

                        </div>
                    </div>


                    <div class="t-2 flex gap-4">
                        <button [disabled]="!loading" (click)="cancelar()" [ngClass]="{'opacity-60 cursor-not-allowed' : !loading}" class="basis-1/2 bg-red-600 hover:bg-red-700 border rounded-lg text-gray-100 font-semibold cursor-pointer transition ease-in duration-500 tracking-wide"> Cancelar </button>

                        <button [disabled]="!loading" (click)="registre()" [ngClass]="{'opacity-60 cursor-not-allowed' : !loading}" type="submit" class="w-full flex justify-center dark:bg-purple-800 dark:hover:bg-purple-700 text-gray-100 p-3 rounded-lg tracking-wide font-semibold cursor-pointer transition ease-in duration-500 bg-sky-600 hover:bg-sky-700">
                            <svg *ngIf="!loading" class="animate-spin w-5 h-5 mr-3 fill-[#ffffff]" viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg">
                                <path d="M304 48a48 48 0 1 0 -96 0 48 48 0 1 0 96 0zm0 416a48 48 0 1 0 -96 0 48 48 0 1 0 96 0zM48 304a48 48 0 1 0 0-96 48 48 0 1 0 0 96zm464-48a48 48 0 1 0 -96 0 48 48 0 1 0 96 0zM142.9 437A48 48 0 1 0 75 369.1 48 48 0 1 0 142.9 437zm0-294.2A48 48 0 1 0 75 75a48 48 0 1 0 67.9 67.9zM369.1 437A48 48 0 1 0 437 369.1 48 48 0 1 0 369.1 437z"></path>
                            </svg>
                            {{statusBtn}}
                        </button>

                    </div>
                    
                </div>
            </form>
        </div>
    </div>
</div>


<svg class="absolute bottom-0 left-0 " xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1440 320">
    <path fill="#fff" fill-opacity="1"
        d="M0,0L40,42.7C80,85,160,171,240,197.3C320,224,400,192,480,154.7C560,117,640,75,720,74.7C800,75,880,117,960,154.7C1040,192,1120,224,1200,213.3C1280,203,1360,149,1400,122.7L1440,96L1440,320L1400,320C1360,320,1280,320,1200,320C1120,320,1040,320,960,320C880,320,800,320,720,320C640,320,560,320,480,320C400,320,320,320,240,320C160,320,80,320,40,320L0,320Z">
    </path>
</svg>
<script src="https://cdn.jsdelivr.net/gh/alpinejs/alpine@v2.x.x/dist/alpine.js"></script>

<!-- Imagen Modal -->
<div id="small-modal" tabindex="-1" *ngIf="mostrarModal" class="fixed top-0 left-0 right-0 z-50 w-full p-4 overflow-x-hidden overflow-y-auto md:inset-0 h-[calc(100%-1rem)] max-h-full">
    <div class="relative w-full max-w-md max-h-full">
        <!-- Modal content -->
        <div class="relative bg-white rounded-lg shadow dark:bg-gray-700">
            <!-- Modal header -->
            <div class="flex items-center justify-between p-4 md:p-5 border-b rounded-t dark:border-gray-600">
                <h3 class="text-xl font-medium text-gray-900 dark:text-white">
                    Small modal
                </h3>
                <button (click)="viewModal()" type="button" class="text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8 ms-auto inline-flex justify-center items-center dark:hover:bg-gray-600 dark:hover:text-white" data-modal-hide="small-modal">
                    <svg class="w-3 h-3" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 14 14">
                        <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"/>
                    </svg>
                    <span class="sr-only">Close modal</span>
                </button>
            </div>
            <!-- Modal body -->
            <div class="p-4 md:p-5 space-y-4">
                <p class="text-base leading-relaxed text-gray-500 dark:text-gray-400">
                    With less than a month to go before the European Union enacts new consumer privacy laws for its citizens, companies around the world are updating their terms of service agreements to comply.
                </p>
                <p class="text-base leading-relaxed text-gray-500 dark:text-gray-400">
                    The European Unionâ€™s General Data Protection Regulation (G.D.P.R.) goes into effect on May 25 and is meant to ensure a common set of data rights in the European Union. It requires organizations to notify users as soon as possible of high-risk data breaches that could personally affect them.
                </p>
            </div>
            <!-- Modal footer -->
            <div class="flex items-center p-4 md:p-5 border-t border-gray-200 rounded-b dark:border-gray-600">
                <button data-modal-hide="small-modal" type="button" class="text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800">I accept</button>
                <button data-modal-hide="small-modal" type="button" class="py-2.5 px-5 ms-3 text-sm font-medium text-gray-900 focus:outline-none bg-white rounded-lg border border-gray-200 hover:bg-gray-100 hover:text-blue-700 focus:z-10 focus:ring-4 focus:ring-gray-100 dark:focus:ring-gray-700 dark:bg-gray-800 dark:text-gray-400 dark:border-gray-600 dark:hover:text-white dark:hover:bg-gray-700">Decline</button>
            </div>
        </div>
    </div>
</div>
