<div
    class="bg-sky-600 dark:bg-purple-900 absolute top-0 left-0 bg-gradient-to-b from-sky-700 dark:from-gray-900 via-sky-500 dark:via-gray-900 to-sky-600 dark:to-purple-800 bottom-0 leading-5 h-full w-full overflow-hidden transition ease-in duration-500">

</div>
<div class="relative min-h-screen sm:flex sm:flex-row justify-center bg-transparent rounded-3xl shadow-xl">
    <p-toast position="bottom-left" />


    <div class="w-auto justify-center self-center z-10 my-20">
        <div class="p-12 bg-white mx-auto rounded-3xl shadow-lg">
            <form class="w-full mx-auto">
                <div class="mb-5 text-center">
                    <h3 class="font-semibold text-2xl text-gray-800">Editar Producto </h3>    
                </div>
                <div class="space-y-4">

                    <div class="lg:flex lg:flex-row gap-4 md:grid-row md:space-y-4">

                        <div class="basis-1/3 md:mt-4">
                            <div class="flex justify-center items-center relative">
                                <input name="name"
                                    required [ngClass]="{'border-red-500': errores.name}" class="w-full text-sm px-4 py-3 bg-gray-200 border border-gray-200 rounded-lg focus:outline-none focus:border-sky-500 dark:focus:border-purple-400 peer bg-inherit"
                                    type="text" [(ngModel)]="inforProduct.name">
                                <span [ngClass]="{'text-red-500': errores.name}" class="text-sm text-slate-500 text-opacity-80 absolute left-0 top-3 mx-2 px-2 transition duration-200 peer-focus:text-sky-500 dark:peer-focus:text-purple-700 pointer-events-none peer-focus:text-xs peer-focus:-translate-y-5 bg-white peer-valid:text-xs peer-valid:-translate-y-5">
                                    Nombre
                                </span>
                            </div>
                            <p *ngIf="errores.name" class="text-sm ms-1 text-red-500 py-2">{{this.errores.name}}</p>
                        </div>

                        <div class="basis-1/3">
                            <div class="flex justify-center items-center relative">
                                <select [ngClass]="{'border-red-500': errores.category}" name="category" id="" class="w-full text-sm px-4 py-3 bg-gray-200 border border-gray-200 rounded-lg focus:outline-none focus:border-sky-500 dark:focus:border-purple-400 peer bg-inherit">
                                    <option selected>Seleccionar categoria</option>
                                    <option value="">Categoria 02</option>
                                    <option value="">Categoria 03</option>
                                    <option value="">Categoria 04</option>
                                    <option value="">Categoria 05</option>
                                    <option value="">Categoria 06</option>
                                    <option value="">Categoria 07</option>
                                </select>
                                <span [ngClass]="{'text-red-500': errores.category}" class="text-sm text-slate-500 text-opacity-80 absolute left-0 top-3 mx-2 px-2 transition duration-200 peer-focus:text-sky-500 dark:peer-focus:text-purple-700 pointer-events-none peer-focus:text-xs peer-focus:-translate-y-5 bg-white peer-valid:text-xs peer-valid:-translate-y-5">
                                    Categoria
                                </span>
                            </div>
                            <p *ngIf="errores.category" class="text-sm ms-1 text-red-500 py-2">{{this.errores.category}}</p>
                        </div>

                        <div class="basis-1/3">
                            <div class="flex justify-center items-center relative">
                                
                                <input name="price"
                                    required [ngClass]="{'border-red-500': errores.price}" class=" w-full text-sm px-4 py-3 bg-gray-200 border border-gray-200 rounded-lg focus:outline-none focus:border-sky-500 dark:focus:border-purple-400 peer bg-inherit"
                                    type="text" [(ngModel)]="inforProduct.price">
                                <span [ngClass]="{'text-red-500': errores.price}" class="text-sm text-slate-500 text-opacity-80 absolute left-0 top-3 mx-2 px-2 transition duration-200 peer-focus:text-sky-500 dark:peer-focus:text-purple-700 pointer-events-none peer-focus:text-xs peer-focus:-translate-y-5 bg-white peer-valid:text-xs peer-valid:-translate-y-5">
                                    Precio
                                </span>
                            </div>
                            <p *ngIf="errores.price" class="text-sm ms-1 text-red-500 py-2">{{this.errores.price}}</p>
                        </div>
                    </div>

                    <div class="flex flex-row gap-4">

                        <div class="basis-1/3">
                            <div class="flex justify-center items-center relative">
                                <input name="marca"
                                    required [ngClass]="{'border-red-500': errores.marca}" class="w-full text-sm px-4 py-3 bg-gray-200 border border-gray-200 rounded-lg focus:outline-none focus:border-sky-500 dark:focus:border-purple-400 peer bg-inherit"
                                    type="text" [(ngModel)]="inforProduct.marca">
                                <span [ngClass]="{'text-red-500': errores.marca}" class="text-sm text-slate-500 text-opacity-80 absolute left-0 top-3 mx-2 px-2 transition duration-200 peer-focus:text-sky-500 dark:peer-focus:text-purple-700 pointer-events-none peer-focus:text-xs peer-focus:-translate-y-5 bg-white peer-valid:text-xs peer-valid:-translate-y-5">
                                    Marca
                                </span>
                            </div>
                            <p *ngIf="errores.marca" class="text-sm ms-1 text-red-500 py-2">{{this.errores.marca}}</p>
                        </div>

                        <div class="basis-1/3">
                            <div class="flex justify-center items-center relative">
                                <input name="stock"
                                    required [ngClass]="{'border-red-500': errores.stock}" class="w-full text-sm px-4 py-3 bg-gray-200 border border-gray-200 rounded-lg focus:outline-none focus:border-sky-500 dark:focus:border-purple-400 peer bg-inherit"
                                    type="text" [(ngModel)]="inforProduct.stock">
                                <span [ngClass]="{'text-red-500': errores.stock}" class="text-sm text-slate-500 text-opacity-80 absolute left-0 top-3 mx-2 px-2 transition duration-200 peer-focus:text-sky-500 dark:peer-focus:text-purple-700 pointer-events-none peer-focus:text-xs peer-focus:-translate-y-5 bg-white peer-valid:text-xs peer-valid:-translate-y-5">
                                    Stock
                                </span>
                            </div>
                            <p *ngIf="errores.stock" class="text-sm ms-1 text-red-500 py-2">{{this.errores.stock}}</p>
                        </div>                        

                        <div class="basis-1/3">
                            <div class="flex justify-center items-center relative">
                                
                                <input name="proveedor"
                                    required [ngClass]="{'border-red-500': errores.proveedor}" class=" w-full text-sm px-4 py-3 bg-gray-200 border border-gray-200 rounded-lg focus:outline-none focus:border-sky-500 dark:focus:border-purple-400 peer bg-inherit"
                                    type="text" [(ngModel)]="inforProduct.proveedor">
                                <span [ngClass]="{'text-red-500': errores.proveedor}" class="text-sm text-slate-500 text-opacity-80 absolute left-0 top-3 mx-2 px-2 transition duration-200 peer-focus:text-sky-500 dark:peer-focus:text-purple-700 pointer-events-none peer-focus:text-xs peer-focus:-translate-y-5 bg-white peer-valid:text-xs peer-valid:-translate-y-5">
                                    Proveedor
                                </span>
                            </div>
                            <p *ngIf="errores.proveedor" class="text-sm ms-1 text-red-500 py-2">{{this.errores.proveedor}}</p>
                        </div>
                    </div>

                    <div class="">
                        
                        <div class="flex justify-center items-center relative">
                            <textarea name="description" (blur)="verificarLongitud()" [ngClass]="{'border-red-500': errores.description}" type="text" [(ngModel)]="inforProduct.description"
                            required class="w-full text-sm px-4 py-3 bg-gray-200 border border-gray-200 rounded-lg focus:outline-none focus:border-sky-500 dark:focus:border-purple-400 peer bg-inherit " > </textarea>
                            
                            <span [ngClass]="{'text-red-500': errores.description, 'peer-valid:text-xs peer-valid:-translate-y-5': peer_valid}" class="text-sm text-slate-500 text-opacity-80 absolute left-0 top-3 mx-2 px-2 transition duration-200 peer-focus:text-sky-500 dark:peer-focus:text-purple-700 pointer-events-none peer-focus:text-xs peer-focus:-translate-y-5 bg-white ">
                                Descripción
                            </span>

                            
                        </div>
                        <p *ngIf="errores.description" class="text-sm ms-1 text-red-500 py-2">{{this.errores.description}}</p>
                    </div>

                    <div class="col-span-full">
                        <div class="flex flex-row gap-2">
                            <label for="cover-photo" class="block text-sm font-medium leading-6 text-gray-900">Imagen del Producto</label>
                            <button (click)="viewModal()" data-modal-target="small-modal" data-modal-toggle="small-modal" type="button" class="bg-sky-600 hover:bg-sky-700 text-slate-100 dark:bg-purple-800 dark:hover:bg-purple-700 text-xs font-semibold p-1 px-2 rounded-lg transition duration-500 ease-in">Visualizar imagen anterior</button>
                        </div>
                        <div class="mt-2 flex justify-center rounded-lg border border-dashed border-gray-900/25 px-6 py-10">
                            <div class="text-center">
                                <svg class="mx-auto h-12 w-12 text-gray-300" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true">
                                <path fill-rule="evenodd" d="M1.5 6a2.25 2.25 0 012.25-2.25h16.5A2.25 2.25 0 0122.5 6v12a2.25 2.25 0 01-2.25 2.25H3.75A2.25 2.25 0 011.5 18V6zM3 16.06V18c0 .414.336.75.75.75h16.5A.75.75 0 0021 18v-1.94l-2.69-2.689a1.5 1.5 0 00-2.12 0l-.88.879.97.97a.75.75 0 11-1.06 1.06l-5.16-5.159a1.5 1.5 0 00-2.12 0L3 16.061zm10.125-7.81a1.125 1.125 0 112.25 0 1.125 1.125 0 01-2.25 0z" clip-rule="evenodd" />
                                </svg>
                                <div class="mt-4 flex text-sm leading-6 text-gray-600">
                                    <label for="file-upload" class="relative cursor-pointer rounded-md bg-white font-semibold text-indigo-600 focus-within:outline-none focus-within:ring-2 focus-within:ring-indigo-600 focus-within:ring-offset-2 hover:text-indigo-500">
                                        <span>Upload a file</span>
                                        <input id="file-upload" name="img" type="file" class="sr-only">
                                    </label>
                                    <p class="pl-1">or drag and drop</p>
                                </div>
                                <p class="text-xs leading-5 text-gray-600">PNG, JPG, GIF up to 10MB</p>
                            </div>
                        </div>
                    </div>


                    <div class="t-2">
                        <button [disabled]="!loading" (click)="registre()" [ngClass]="{'opacity-60 cursor-not-allowed' : !loading}" type="submit" class="w-full flex justify-center dark:bg-purple-800 dark:hover:bg-purple-700 text-gray-100 p-3 rounded-lg tracking-wide font-semibold cursor-pointer transition ease-in duration-500 bg-sky-600 hover:bg-sky-700">
                            <svg *ngIf="!loading" class="animate-spin w-5 h-5 mr-3 fill-[#ffffff]" viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg">
                                <path d="M304 48a48 48 0 1 0 -96 0 48 48 0 1 0 96 0zm0 416a48 48 0 1 0 -96 0 48 48 0 1 0 96 0zM48 304a48 48 0 1 0 0-96 48 48 0 1 0 0 96zm464-48a48 48 0 1 0 -96 0 48 48 0 1 0 96 0zM142.9 437A48 48 0 1 0 75 369.1 48 48 0 1 0 142.9 437zm0-294.2A48 48 0 1 0 75 75a48 48 0 1 0 67.9 67.9zM369.1 437A48 48 0 1 0 437 369.1 48 48 0 1 0 369.1 437z"></path>
                            </svg>
                            {{statusBtn}}
                        </button>
                    </div>
                    
                </div>
            </form>
        </div>
    </div>
</div>


<svg class="absolute bottom-0 left-0 " xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1440 320">
    <path fill="#fff" fill-opacity="1"
        d="M0,0L40,42.7C80,85,160,171,240,197.3C320,224,400,192,480,154.7C560,117,640,75,720,74.7C800,75,880,117,960,154.7C1040,192,1120,224,1200,213.3C1280,203,1360,149,1400,122.7L1440,96L1440,320L1400,320C1360,320,1280,320,1200,320C1120,320,1040,320,960,320C880,320,800,320,720,320C640,320,560,320,480,320C400,320,320,320,240,320C160,320,80,320,40,320L0,320Z">
    </path>
</svg>
<script src="https://cdn.jsdelivr.net/gh/alpinejs/alpine@v2.x.x/dist/alpine.js"></script>

<!-- Imagen Modal -->
<div id="small-modal" tabindex="-1" *ngIf="mostrarModal" class="fixed top-0 left-0 right-0 z-50 w-full p-4 overflow-x-hidden overflow-y-auto md:inset-0 h-[calc(100%-1rem)] max-h-full">
    <div class="relative w-full max-w-md max-h-full">
        <!-- Modal content -->
        <div class="relative bg-white rounded-lg shadow dark:bg-gray-700">
            <!-- Modal header -->
            <div class="flex items-center justify-between p-4 md:p-5 border-b rounded-t dark:border-gray-600">
                <h3 class="text-xl font-medium text-gray-900 dark:text-white">
                    Small modal
                </h3>
                <button (click)="viewModal()" type="button" class="text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8 ms-auto inline-flex justify-center items-center dark:hover:bg-gray-600 dark:hover:text-white" data-modal-hide="small-modal">
                    <svg class="w-3 h-3" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 14 14">
                        <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"/>
                    </svg>
                    <span class="sr-only">Close modal</span>
                </button>
            </div>
            <!-- Modal body -->
            <div class="p-4 md:p-5 space-y-4">
                <p class="text-base leading-relaxed text-gray-500 dark:text-gray-400">
                    With less than a month to go before the European Union enacts new consumer privacy laws for its citizens, companies around the world are updating their terms of service agreements to comply.
                </p>
                <p class="text-base leading-relaxed text-gray-500 dark:text-gray-400">
                    The European Union’s General Data Protection Regulation (G.D.P.R.) goes into effect on May 25 and is meant to ensure a common set of data rights in the European Union. It requires organizations to notify users as soon as possible of high-risk data breaches that could personally affect them.
                </p>
            </div>
            <!-- Modal footer -->
            <div class="flex items-center p-4 md:p-5 border-t border-gray-200 rounded-b dark:border-gray-600">
                <button data-modal-hide="small-modal" type="button" class="text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800">I accept</button>
                <button data-modal-hide="small-modal" type="button" class="py-2.5 px-5 ms-3 text-sm font-medium text-gray-900 focus:outline-none bg-white rounded-lg border border-gray-200 hover:bg-gray-100 hover:text-blue-700 focus:z-10 focus:ring-4 focus:ring-gray-100 dark:focus:ring-gray-700 dark:bg-gray-800 dark:text-gray-400 dark:border-gray-600 dark:hover:text-white dark:hover:bg-gray-700">Decline</button>
            </div>
        </div>
    </div>
</div>